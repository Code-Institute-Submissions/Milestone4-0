{% extends "base.html"%}

{% block content %}
<div class="row">
    <div class="col top-spacer mt-10"></div>
</div>
<!-- SERIES VIEW -->
<section class="series-view">
    
{{ serial }}
<br>


<section class="series-view-content">
    <ul class="collapsible" data-collapsible="accordion">
        {% for items in serial.class_series %}
        {% for id in items.classes %}
        {% for class in all_classes if class._id in id %}
        <li class="accordion_list">
            <div class="collapsible-header">
                <div class="list_header col">
                    <!---<i class="material-icons accordion_arrow">expand_more</i>-->
                    <strong>{{ class.class_name }}</strong>
                </div>
            </div>
            <div class="collapsible-body">
                <span>{{ class.class_description }} </span>

                <!-- TOOLS BUTTON FOR THE TOOLS: EDIT/DELETE/DUPLICATE/ADD EXERCISE/ ADD LOG-->
                <section class="tools">
                    <div class="fixed-action-btn vertical">
                        <a class="btn-floating btn-large red tooltipped" id="class-tools" data-position="left"
                            data-delay="50" data-tooltip="Editor tools">
                            <i class="medium material-icons">build</i></a>
                        <ul>
                            <li><a href="{{ url_for('view_class', class_id=class._id, username = username) }}"
                                    class="btn-floating yellow darken-2 tooltipped" data-position="left" data-delay="50"
                                    data-tooltip="View class">
                                    <i class="material-icons">remove_red_eye</i></a></li>
                            <li><a href="{{ url_for('edit_class', class_id=class._id, username=username) }}"
                                    class="btn-floating green tooltipped" data-position="left" data-delay="50"
                                    data-tooltip="Edit class">
                                    <i class="material-icons">edit</i></a></li>
                            <li><a href="{{ url_for('delete_class', class_id=class._id) }}"
                                    class="btn-floating red accent-4 tooltipped" data-position="left" data-delay="50"
                                    data-tooltip="Delete class">
                                    <i class="material-icons">delete</i></a></li>
                            <li><a href="{{ url_for('copy_class', class_id=class._id, username=username) }}"
                                    class="btn-floating blue-lighten-2 tooltipped" data-position="left" data-delay="50"
                                    data-tooltip="Duplicate class">
                                    <i class="material-icons">content_copy</i></a></li>
                        </ul>
                    </div>
                </section>
            </div>
        </li>
        {% else %}
        <li>
            <em>{{ class.class_name }} {{ id.classes }} No classes added to this series</em>
        </li>
        {% endif %}
        {% endfor %}
        {% endfor %}
        {% endfor %}
    </ul>
    <br>
</section>
<!-- Button to add a new class -->
<div class="divider"></div>
<br>
<div class="section">
    <div class="container bottom_actions w-100">
        <div class="row">
            <div class="col ml-n3 mb-6">
                <a href="{{ url_for('add_class') }}" class="btn-small waves-effect waves-light blue tooltipped"
                    data-position="right" data-delay="50" data-tooltip="Add a new class">
                    <i class="material-icons left">library_add</i>Add New Class</a>
            </div>
        </div>
    </div>
</div>
{% endblock content %}